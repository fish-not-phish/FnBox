{% load allauth socialaccount %}
{% get_providers as socialaccount_providers %}

{% if socialaccount_providers %}
  <div class="d-grid gap-2">

    {% for provider in socialaccount_providers %}

      {% if provider.id == "openid" %}
        {% for brand in provider.get_brands %}
          {% provider_login_url provider openid=brand.openid_url process=process as href %}
          <a
            class="btn btn-outline-secondary w-100"
            href="{{ href }}"
            role="button"
          >
            Continue with {{ brand.name }}
          </a>
        {% endfor %}
      {% else %}
        {% provider_login_url provider process=process scope=scope auth_params=auth_params as href %}
        <a
          class="btn btn-outline-secondary w-100"
          href="{{ href }}"
          role="button"
        >
          Continue with {{ provider.name }}
        </a>
      {% endif %}

    {% endfor %}

  </div>
{% endif %}
